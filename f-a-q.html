<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frequently Asked Questions &mdash; opam-bin master
 (f0476a3
) (2022/12/27 17:38) documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/fixes.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="About, Thanks and Funding" href="about-and-thanks.html" />
    <link rel="prev" title="Contributed Binary Repositories" href="repositories.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> opam-bin
          </a>
              <div class="version">
                master
 (f0476a3
)
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic-concepts.html">Basic Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-usage.html">Local Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing-packages.html">Sharing Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="repositories.html">Contributed Binary Repositories</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-patch-didn-t-apply-correctly-what-shall-i-do">The patch didn’t apply correctly. What shall I do ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-not-upstream-patches-to-opam-repository">Why not upstream patches to opam-repository ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="about-and-thanks.html">About, Thanks and Funding</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Copyright and License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/ocamlpro/opam-bin">Devel and Issues on Github</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">opam-bin</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Frequently Asked Questions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/f-a-q.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline"></a></h1>
<p>This section will grow over time, and should gather replies to
Frequently Asked Questions.</p>
<section id="the-patch-didn-t-apply-correctly-what-shall-i-do">
<h2>The patch didn’t apply correctly. What shall I do ?<a class="headerlink" href="#the-patch-didn-t-apply-correctly-what-shall-i-do" title="Permalink to this headline"></a></h2>
<p>Most of the time, we didn’t have time to test a patch that we made for
a version on other versions of the same package. It’s often the case
that they will work without modification.</p>
<p>For a given version of a package, <code class="code docutils literal notranslate"><span class="pre">opam-bin</span></code> selects the patch
with the higest version less or equal to the package being installed.
Sometimes, it would be better to use the patch for the version just
higher. This is a good way to solve your problem.</p>
<p>For that, you will have to use a local version of the
<code class="code docutils literal notranslate"><span class="pre">relocation-patches</span></code> directory:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="o">@</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">:</span><span class="nc">OCamlPro</span><span class="o">/</span><span class="n">relocation</span><span class="o">-</span><span class="n">patches</span>
<span class="n">opam</span> <span class="n">bin</span> <span class="n">config</span> <span class="o">--</span><span class="n">patches</span><span class="o">-</span><span class="n">url</span> <span class="n">file</span><span class="o">://$(</span><span class="n">pwd</span><span class="o">)/</span><span class="n">relocation</span><span class="o">-</span><span class="n">patches</span>
<span class="n">cd</span> <span class="n">relocation</span><span class="o">-</span><span class="n">patches</span><span class="o">/</span><span class="n">patches</span><span class="o">/$</span><span class="nc">NAME</span><span class="o">/</span>
<span class="n">cp</span> <span class="o">$</span><span class="nn">NEXT_VERSION</span><span class="p">.</span><span class="n">patch</span> <span class="o">$</span><span class="nn">VERSION</span><span class="p">.</span><span class="n">patch</span>
</pre></div>
</div>
</section>
<section id="why-not-upstream-patches-to-opam-repository">
<h2>Why not upstream patches to opam-repository ?<a class="headerlink" href="#why-not-upstream-patches-to-opam-repository" title="Permalink to this headline"></a></h2>
<p>Patches in the <code class="code docutils literal notranslate"><span class="pre">relocation-patches</span></code> repository should be
upstreamed to <code class="code docutils literal notranslate"><span class="pre">opam-repository</span></code> over time, but the problem is
that they should be applied to many versions of the same packages. For
example, the <code class="code docutils literal notranslate"><span class="pre">ocaml-variants</span></code> package contains tens of packages
for every version of OCaml. So, it would take a lot of work. Instead,
<code class="code docutils literal notranslate"><span class="pre">opam-bin</span></code> is able to automatically patch a range of versions
using a single patch.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="repositories.html" class="btn btn-neutral float-left" title="Contributed Binary Repositories" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="about-and-thanks.html" class="btn btn-neutral float-right" title="About, Thanks and Funding" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, OCamlPro &amp; Origin Labs SAS. &lt;contact@ocamlpro.com&gt;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>